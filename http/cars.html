<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8">
   <title>Nice cars</title>
   <script>
     var currentLoadingImgNum = 0;
     var currentImage;

     var images = [
       ["cars-ferrari.jpg", "Ferrari"],
       ["cars-lambo.jpg",   "Lamborghini"],
       ["cars-mas.jpg",     "Maserati"],
       ["cars-porsche.jpg", "Porsche"]
     ];

     function LoadNextImage() {
       currentImage = null;

       if (currentLoadingImgNum < images.length) {
         currentImage = new Image();

         currentImage.onload = function(){
           var figureElem = document.createElement("figure");
           var figureCaption = document.createElement("figcaption");
           document.body.appendChild(figureElem);
           figureElem.appendChild(currentImage);
           figureElem.appendChild(figureCaption);
           figureCaption.innerHTML = images[currentLoadingImgNum][1];
           currentLoadingImgNum++;
           LoadNextImage();
         }

         currentImage.src = images[currentLoadingImgNum][0];
       }
     }

     document.addEventListener("DOMContentLoaded", LoadNextImage);
   </script>
</head>
<body>
<h1>Nice cars!</h1>
<p>This page loads "large" images of fancy cars. It is meant to serve as a stress test for nodemcu-httpserver.</p>
</body>
</html>
